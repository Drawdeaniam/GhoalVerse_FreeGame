<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGL Build</title>
    <script>
        var mobile_input;

        function focusInputField() {
            if (mobile_input) {
                mobile_input.input.focus();
            }
        }

        function _JS_MobileKeyboard_Show(text, keyboardType, autocorrection, multiline, secure, alert, placeholder, characterLimit) {
            if (mobile_input_hide_delay) {
                clearTimeout(mobile_input_hide_delay);
                mobile_input_hide_delay = null;
            }
            text = UTF8ToString(text);
            mobile_input_text = text;
            placeholder = UTF8ToString(placeholder);
            var container = document.body;
            var hasExistingMobileInput = !!mobile_input;
            var input_type;
            var KEYBOARD_TYPE_NUMBERS_AND_PUNCTUATION = 2;
            var KEYBOARD_TYPE_URL = 3;
            var KEYBOARD_TYPE_NUMBER_PAD = 4;
            var KEYBOARD_TYPE_PHONE_PAD = 5;
            var KEYBOARD_TYPE_EMAIL_ADDRESS = 7;
            if (!secure) {
                switch (keyboardType) {
                    case KEYBOARD_TYPE_EMAIL_ADDRESS:
                        input_type = "email";
                        break;
                    case KEYBOARD_TYPE_URL:
                        input_type = "url";
                        break;
                    case KEYBOARD_TYPE_NUMBERS_AND_PUNCTUATION:
                    case KEYBOARD_TYPE_NUMBER_PAD:
                    case KEYBOARD_TYPE_PHONE_PAD:
                        input_type = "number";
                        break;
                    default:
                        input_type = "text";
                        break;
                }
            } else {
                input_type = "password";
            }
            if (hasExistingMobileInput) {
                if (mobile_input.multiline != multiline) {
                    _JS_MobileKeyboard_Hide(false);
                    return;
                }
            }
            var inputContainer = mobile_input || document.createElement("div");
            if (!hasExistingMobileInput) {
                inputContainer.style = "width:100%; position:fixed; bottom:0px; margin:0px; padding:0px; left:0px; border: 1px solid #000; border-radius: 5px; background-color:#fff; font-size:14pt;";
                container.appendChild(inputContainer);
                mobile_input = inputContainer;
            }
            var input = hasExistingMobileInput ? mobile_input.input : document.createElement(multiline ? "textarea" : "input");
            mobile_input.multiline = multiline;
            mobile_input.secure = secure;
            mobile_input.keyboardType = keyboardType;
            mobile_input.inputType = input_type;
            input.type = input_type;
            input.style = "width:calc(100% - 85px); " + (multiline ? "height:100px;" : "") + "vertical-align:top; border-radius: 5px; outline:none; cursor:default; resize:none; border:0px; padding:10px 0px 10px 10px;";
            input.spellcheck = autocorrection ? true : false;
            input.maxLength = characterLimit > 0 ? characterLimit : 524288;
            input.value = text;
            input.placeholder = placeholder;
            if (!hasExistingMobileInput) {
                inputContainer.appendChild(input);
                inputContainer.input = input;
            }
            if (!hasExistingMobileInput) {
                var okButton = document.createElement("button");
                okButton.innerText = "OK";
                okButton.style = "border:0; position:absolute; left:calc(100% - 75px); top:0px; width:75px; height:100%; margin:0; padding:0; border-radius: 5px; background-color:#fff";
                okButton.addEventListener("touchend", function () {
                    _JS_MobileKeyboard_Hide(true);
                });
                inputContainer.appendChild(okButton);
                inputContainer.okButton = okButton;
                input.addEventListener("keyup", function (e) {
                    if (input.parentNode.multiline) return;
                    if (e.code == "Enter" || e.which == 13 || e.keyCode == 13) {
                        _JS_MobileKeyboard_Hide(true);
                    }
                });
                input.addEventListener("blur", function (e) {
                    _JS_MobileKeyboard_Hide(true);
                    e.stopPropagation();
                    e.preventDefault();
                });
                input.select();
                input.focus();
            } else {
                input.select();
            }
        }
    </script>
</head>
<body>
    <div id="unity-container" class="unity-desktop">
        <canvas id="unity-canvas"></canvas>
        <div id="unity-loading-bar">
            <div id="unity-logo"></div>
            <div id="unity-progress-bar-empty">
                <div id="unity-progress-bar-full"></div>
            </div>
        </div>
        <div id="unity-warning"> </div>
        <div id="unity-footer">
            <div id="unity-webgl-logo"></div>
            <div id="unity-fullscreen-button"></div>
            <div id="unity-build-title">NewBuild</div>
        </div>
    </div>
    <script>
        var buildUrl = "Build";
        var loaderUrl = buildUrl + "/NewBuild.loader.js";
        var config = {
            dataUrl: buildUrl + "/NewBuild.data",
            frameworkUrl: buildUrl + "/NewBuild.framework.js",
            codeUrl: buildUrl + "/NewBuild.wasm",
            streamingAssetsUrl: "StreamingAssets",
            companyName: "DefaultCompany",
            productName: "NewBuild",
            productVersion: "1.0",
        };

        var container = document.querySelector("#unity-container");
        var canvas = document.querySelector("#unity-canvas");
        var loadingBar = document.querySelector("#unity-loading-bar");
        var progressBarFull = document.querySelector("#unity-progress-bar-full");
        var fullscreenButton = document.querySelector("#unity-fullscreen-button");
        var warningBanner = document.querySelector("#unity-warning");

        if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
            container.className = "unity-mobile";
            config.devicePixelRatio = 1;
            canvas.className = "unity-mobile";
        } else {
            canvas.style.width = "960px";
            canvas.style.height = "600px";
        }

        loadingBar.style.display = "block";

        var script = document.createElement("script");
        script.src = loaderUrl;
        script.onload = () => {
            createUnityInstance(canvas, config, (progress) => {
                progressBarFull.style.width = 100 * progress + "%";
            }).then((unityInstance) => {
                loadingBar.style.display = "none";
                fullscreenButton.onclick = () => {
                    unityInstance.SetFullscreen(1);
                };
            }).catch((message) => {
                alert(message);
            });
        };
        document.body.appendChild(script);
    </script>
</body>
</html>
